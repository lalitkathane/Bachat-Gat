<!-- templates/savings.html -->
{% extends "base.html" %}

{% block content %}
<h2 class="text-muted">{{ t.savingsLedger }}</h2>
<div class="card border-0 shadow-sm rounded-3">
    <div class="card-body">
        <h6 class="text-muted">+ Add Savings</h6>
        <form method="POST" class="mt-4">
            <div class="row">
                <div class="col-md-4">
                    <label class="text-muted">Member</label>
                    <select name="member_id" class="form-select border-0 bg-light rounded-3">
                        {% for m in members %}
                        <option value="{{ m.id }}">{{ m.name }}</option>
                        {% endfor %}
                    </select>
                </div>
                <div class="col-md-4">
                    <label class="text-muted">Amount (₹)</label>
                    <input type="number" name="amount" class="form-control border-0 bg-light rounded-3" value="500">
                </div>
                <div class="col-md-4 d-flex align-items-end">
                    <button type="submit" class="btn btn-dark rounded-pill w-100">Save</button>
                </div>
            </div>
        </form>
    </div>
</div>
<div class="card border-0 shadow-sm rounded-3 mt-4">
    <div class="card-body">
        <h6 class="text-muted">Ledger</h6>
        <ul class="list-group list-group-flush mt-3">
            {% for s in savings %}
            <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 py-2">
                {{ (members|selectattr('id', 'equalto', s.memberId)|first).name }}
                <span class="text-muted">{{ s.date }}</span>
                <span>₹{{ s.amount }}</span>
            </li>
            {% endfor %}
        </ul>
    </div>
</div>
{% endblock %}